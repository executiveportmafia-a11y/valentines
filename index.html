<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Aditiii üíñ</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:ital,wght@0,700;1,700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { 
            --primary-pink: #ff8fab; 
            --dark-pink: #d81b60; 
            --heart-red: #ff0a54;
            --soft-bg: #fff0f3; 
            --wood: #3d2b1f; 
            --glass: rgba(255, 255, 255, 0.85);
        }

        body, html { margin: 0; padding: 0; height: 100%; width: 100%; font-family: 'Poppins', sans-serif; overflow: hidden; background-color: var(--soft-bg); }

        #intro-layer { 
            position: fixed; inset: 0; z-index: 1000; 
            display: flex; align-items: center; justify-content: center; 
            background: #000; transition: transform 1.2s cubic-bezier(0.77, 0, 0.175, 1); 
            cursor: pointer; 
        }
        #intro-layer.hidden { transform: translateY(-100%); }
        .intro-bg { 
            position: absolute; inset: 0; 
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://i.ibb.co/LzF73jrf/image-2026-02-11-050244172.png'); 
            background-size: cover; background-position: center; 
        }
        .intro-text { 
            position: relative; z-index: 2; 
            font-family: 'Dancing Script', cursive; font-size: 10vw; 
            color: #ff8fab; text-shadow: 0 0 25px rgba(0, 0, 0, 0.8); 
            text-align: center;
            animation: fallIn 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes fallIn {
            0% { transform: translateY(-100vh); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .slide { display: none; height: 100vh; width: 100vw; background-size: cover; background-position: center; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; box-sizing: border-box; position: absolute; opacity: 0; transition: all 0.8s ease; }
        .active { display: flex; opacity: 1; z-index: 5; }
        .premium-bg { background-image: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0.1)), url('https://i.ibb.co/LzF73jrf/image-2026-02-11-050244172.png'); }

        .glass-card { background: var(--glass); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); padding: 30px; border-radius: 35px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); max-width: 85%; border: 1px solid rgba(255,255,255,0.6); animation: slideUp 0.8s ease forwards; }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        h2 { font-family: 'Playfair Display', serif; color: var(--dark-pink); margin-top: 0; font-size: 1.6rem; letter-spacing: 1px; }
        p { font-size: 0.95rem; line-height: 1.6; color: #444; }
        button { background: linear-gradient(135deg, var(--primary-pink), var(--dark-pink)); color: white; border: none; padding: 16px 35px; border-radius: 50px; font-size: 1.1rem; font-weight: 600; cursor: pointer; margin-top: 15px; box-shadow: 0 8px 15px rgba(216, 27, 96, 0.3); transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        button:active { transform: scale(0.92); }

        /* Game UI */
        .wheel-container { position: relative; width: 300px; height: 300px; margin: 15px 0; }
        #wheelCanvas { width: 100%; height: 100%; border-radius: 50%; border: 10px solid white; box-shadow: 0 15px 30px rgba(0,0,0,0.15); }
        #scratch-container { position: relative; width: 260px; height: 260px; margin: 20px auto; border-radius: 25px; overflow: hidden; background: white; border: 8px solid white; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .emoji-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 20px 0; perspective: 1000px; }
        .emoji-card { width: 80px; height: 80px; background: white; border-radius: 18px; display: flex; align-items: center; justify-content: center; font-size: 2.2rem; cursor: pointer; transition: transform 0.6s; transform-style: preserve-3d; border: 2px solid #ffeef2; }
        .emoji-card .back { position: absolute; width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary-pink), var(--dark-pink)); border-radius: 16px; backface-visibility: hidden; }
        .emoji-card.flipped { transform: rotateY(180deg); }
        .coin-container { perspective: 1000px; width: 160px; height: 160px; margin: 20px auto; }
        .coin { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform 5s cubic-bezier(0.1, 0, 0.1, 1); }
        .face { position: absolute; width: 100%; height: 100%; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; backface-visibility: hidden; border: 6px solid #ffd700; box-shadow: inset 0 0 20px rgba(0,0,0,0.2); }
        .heads { background: linear-gradient(45deg, #ffd700, #ffae00); color: #5c4300; }
        .tails { background: linear-gradient(45deg, #ffd700, #ffae00); color: #5c4300; transform: rotateY(180deg); }

        /* Countdown Suspense */
        #stars-container { position: absolute; inset: 0; z-index: 1; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--duration) infinite; }
        .heart-wrapper { position: relative; display: flex; align-items: center; justify-content: center; width: 200px; height: 200px; }
        .heart-node { background-color: var(--heart-red); height: 150px; width: 150px; transform: rotate(-45deg); position: relative; box-shadow: 0 0 50px rgba(255, 10, 84, 0.5); z-index: 10; }
        .heart-node::before, .heart-node::after { content: ""; background-color: var(--heart-red); border-radius: 50%; height: 150px; width: 150px; position: absolute; }
        .heart-node::before { top: -75px; left: 0; }
        .heart-node::after { left: 75px; top: 0; }
        #countdown-num { position: absolute; z-index: 20; color: white; font-size: 5rem; font-weight: bold; font-family: 'Playfair Display', serif; pointer-events: none; }
        @keyframes pulse-heart { 0% { transform: rotate(-45deg) scale(1); } 50% { transform: rotate(-45deg) scale(1.15); } 100% { transform: rotate(-45deg) scale(1); } }

        .loader-container { width: 100%; background: #fff; border-radius: 20px; height: 12px; margin-top: 20px; overflow: hidden; border: 1px solid #eee; }
        .loader-bar { height: 100%; background: linear-gradient(to right, var(--primary-pink), var(--dark-pink)); width: 0%; }
        
        /* UPDATED: Increased standard image max-width for better mobile viewing */
        .standard-img { max-width: 95%; max-height: 65vh; border-radius: 15px; border: 6px solid white; box-shadow: 0 15px 30px rgba(0,0,0,0.3); object-fit: contain; }
        .embed-img { width: 100%; max-width: 320px; border-radius: 20px; margin: 15px 0; }
        
        .popup { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 9999; backdrop-filter: blur(8px); }
        .popup-content { background: white; padding: 35px; border-radius: 30px; text-align: center; max-width: 80%; transform: scale(0.7); opacity: 0; transition: 0.5s; }
        .popup.show { display: flex; }
        .popup.show .popup-content { transform: scale(1); opacity: 1; }

        #hearts-rain-container { position: absolute; inset: 0; pointer-events: none; z-index: 100; overflow: hidden; }
        .heart-float { position: absolute; bottom: -10%; font-size: 2rem; animation: floatUp var(--dur) linear infinite; opacity: 0; }
        @keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-110vh) scale(1.5); opacity: 0; } }
    </style>
</head>
<body>

<div id="intro-layer" onclick="closeIntro()">
    <div class="intro-bg"></div>
    <div class="intro-text">To my baby, Aditi</div>
    <div style="position:absolute; bottom: 10%; color: #fff; font-size: 0.8rem; letter-spacing: 3px; opacity: 0.8;">TAP TO OPEN</div>
</div>

<audio id="bgMusic" loop preload="auto"><source src="https://files.catbox.moe/bwin5r.mp3" type="audio/mpeg"></audio>

<div id="slide1" class="slide active premium-bg">
    <div class="glass-card">
        <p>Hey Aditiii, hope I'm not interrupting your reel-scrolling session. I've put together something special, but it requires your full attention. You're about to face some very important choices‚Äîchoices that might just change the course of our day. Press 'Proceed' only if you're ready for the challenge.</p>
        <p style="font-size: 0.8rem; color: #888;">Note: Take a SS of every choice.</p>
        <button id="btn1" onclick="startLoading(1, 30000)">Proceed</button>
        <div id="loader1" class="loader-container" style="display:none;"><div class="loader-bar"></div></div>
    </div>
</div>

<div id="slide-wheel" class="slide premium-bg">
    <div class="glass-card">
        <h2>Cuisine üçù</h2>
        <div class="wheel-container">
            <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; border-top: 30px solid var(--dark-pink); z-index: 10;"></div>
            <canvas id="wheelCanvas" width="400" height="400"></canvas>
        </div>
        <button id="spinBtn" onclick="spinWheel()">SPIN! ‚ú®</button>
    </div>
</div>

<div id="slide-scratch" class="slide premium-bg">
    <div class="glass-card">
        <h2>Scratch for Dessert üç∞</h2>
        <div id="scratch-container">
            <div style="position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <h1 style="font-size: 4rem; margin:0;">üç∞</h1>
                <p style="font-weight: bold; color: var(--dark-pink);">Cheesecake!</p>
            </div>
            <canvas id="scratch-canvas" width="260" height="260" style="position: absolute; inset: 0; z-index: 2; touch-action: none;"></canvas>
        </div>
        <button id="scratchNext" style="display:none;" onclick="nextSlide('match')">Next Game</button>
    </div>
</div>

<div id="slide-match" class="slide premium-bg">
    <div class="glass-card">
        <h2>Match the Emojis ‚òï</h2>
        <div class="emoji-grid" id="emoji-grid"></div>
        <button id="matchBtnNext" style="display:none;" onclick="nextSlide('coin')">Proceed</button>
    </div>
</div>

<div id="slide-coin" class="slide premium-bg">
    <div class="glass-card">
        <h2>Final Activity ü™ô</h2>
        <div class="coin-container" onclick="flipCoin()">
            <div class="coin" id="coin">
                <div class="face heads">Cuddles ü§ó</div>
                <div class="face tails">Makeout ü´¶</div>
            </div>
        </div>
        <p id="coin-status" style="margin-top:10px; color: var(--dark-pink); font-weight: 600;">Tap to Flip!</p>
        <button id="coinBtnNext" style="display:none;" onclick="nextSlide(6)">Next Slide</button>
    </div>
</div>

<div id="slide6" class="slide premium-bg">
    <div class="glass-card">
        <p>Thank you for answering all the questions <333333333 you receive a free additional Ice Cream and head pats.</p>
        <img src="https://i.ibb.co/hJL89Nh2/IMG-0527.gif" width="180" style="border-radius: 20px; margin: 15px 0;">
        <p>Now before the final question there is a note I want you to read.</p>
        <button id="btn6" onclick="startLoading(6, 10000)">Proceed</button>
        <div id="loader6" class="loader-container" style="display:none;"><div class="loader-bar"></div></div>
    </div>
</div>

<div id="slide7" class="slide" style="background-color: var(--wood); background-image: url('https://www.transparenttextures.com/patterns/dark-wood.png');">
    <img src="https://i.ibb.co/wN9XBssj/IMG-0533.jpg" class="standard-img" style="transform: rotate(-1deg);">
    <button style="border-radius: 50%; width: 75px; height: 75px; margin-top: 30px; display: flex; align-items: center; justify-content: center; font-size: 2rem;" onclick="startEternalCountdown()">‚ûî</button>
</div>

<div id="slide-suspense" class="slide" style="background-color: #050505;">
    <div id="stars-container"></div>
    <div class="heart-wrapper">
        <div class="heart-node" id="heart-node"></div>
        <div id="countdown-num">5</div>
    </div>
</div>

<div id="slide8" class="slide" style="background-image: url('https://i.ibb.co/JRLYybWs/IMG-0526.jpg');">
    <div class="glass-card">
        <h2 style="font-size: 1.2rem;">Baby, will you be the Gwen Stacey to my Spiderman? Will you be my Valentine? üíå</h2>
        <img src="https://i.ibb.co/bgcDdG0f/image-2026-02-11-044418153.png" alt="Spiderman-Gwen" class="embed-img">
        <div style="display: flex; gap: 20px; justify-content: center; height: 60px; position: relative; width: 100%;">
            <button onclick="handleYes()">Yes</button>
            <button id="no-btn" onclick="showNoPopup()">No</button>
        </div>
    </div>
</div>

<div id="slide9" class="slide premium-bg">
    <div id="hearts-rain-container"></div>
    <img src="https://i.ibb.co/tPbTwfk8/IMG-0532.jpg" class="standard-img" style="z-index: 2;">
</div>

<div id="wheelPopup" class="popup"><div class="popup-content"><h2 id="wheelText"></h2><button onclick="closeWheelPopup()">Continue</button></div></div>
<div id="matchPopup" class="popup"><div class="popup-content"><h2>üèÜ Champion! üèÜ</h2><p>Yay!! You won a Hot-Chocolate ‚òï</p><button onclick="closeMatchPopup()">Continue</button></div></div>
<div id="coinPopup" class="popup"><div class="popup-content"><h2>‚ú® Decision Time! ‚ú®</h2><p id="coinPopupText">Looks like we are doing both! ‚ù§Ô∏è</p><button onclick="closeCoinPopup()">Yayy! Next</button></div></div>
<div id="yesPopup" class="popup"><div class="popup-content"><h1>üíñ</h1><h2>Thank you for saying yes!! üíñüíñ</h2><button onclick="finalize()">See Our Surprise</button></div></div>
<div id="noPopup" class="popup"><div class="popup-content"><h2>ü•∫</h2><p>You're not allowed to say no darling</p><button onclick="hidePopup('noPopup')">Okay ‚ù§Ô∏è</button></div></div>
<div id="scratchPopup" class="popup"><div class="popup-content"><h2>üç∞ Yay!! üç∞</h2><p>You won a Cheese Cake!!</p><button onclick="hidePopup('scratchPopup'); document.getElementById('scratchNext').style.display='block';">Continue</button></div></div>

<script>
    const bgMusic = document.getElementById('bgMusic');
    const cuisine = ["Italian üáÆüáπ", "Mexican üá≤üáΩ", "Japanese üáØüáµ", "Indian üáÆüá≥", "Chinese üá®üá≥", "European üá´üá∑"];
    const colors = ["#FF6B6B", "#FFD93D", "#6BCB77", "#4D96FF", "#9D4EDD", "#FF9248"];
    let startAngle = 0;

    function vibrate(ms) { if (window.navigator && window.navigator.vibrate) { window.navigator.vibrate(ms); } }

    function closeIntro() { vibrate(50); document.getElementById('intro-layer').classList.add('hidden'); bgMusic.play(); }

    function nextSlide(n) {
        document.querySelectorAll('.slide').forEach(s => { s.classList.remove('active'); s.style.opacity = '0'; });
        const target = (typeof n === 'string') ? document.getElementById('slide-' + n) : document.getElementById('slide' + n);
        target.classList.add('active');
        setTimeout(() => target.style.opacity = '1', 50);
        if(n === 'wheel') setupWheel();
        if(n === 'scratch') initScratch();
        if(n === 'match') initMatch();
    }

    function startLoading(n, d) {
        vibrate(20);
        document.getElementById('btn' + n).style.display = 'none';
        const loader = document.getElementById('loader' + n);
        const bar = loader.querySelector('.loader-bar');
        loader.style.display = 'block';
        let s = null;
        function step(t) {
            if(!s) s = t;
            let p = Math.min(((t-s)/d)*100, 100);
            bar.style.width = p + '%';
            if(p < 100) requestAnimationFrame(step);
            else { if(n === 1) nextSlide('wheel'); else nextSlide(7); }
        }
        requestAnimationFrame(step);
    }

    function setupWheel() {
        const ctx = document.getElementById("wheelCanvas").getContext("2d");
        ctx.clearRect(0,0,400,400);
        for(let i=0; i<6; i++) {
            const angle = startAngle + i * (Math.PI/3);
            ctx.fillStyle = colors[i];
            ctx.beginPath(); ctx.moveTo(200, 200); ctx.arc(200, 200, 190, angle, angle + (Math.PI/3)); ctx.fill();
            ctx.save(); ctx.fillStyle = "white"; ctx.font = "bold 18px Poppins";
            ctx.translate(200+Math.cos(angle+Math.PI/6)*120, 200+Math.sin(angle+Math.PI/6)*120);
            ctx.rotate(angle+Math.PI/6+Math.PI/2); ctx.fillText(cuisine[i], -ctx.measureText(cuisine[i]).width/2, 0); ctx.restore();
        }
    }

    function spinWheel() {
        vibrate(30);
        document.getElementById('spinBtn').disabled = true;
        let vel = 0.8 + Math.random()*0.4;
        let lastTickAngle = 0;
        function decay() {
            startAngle += vel; vel *= 0.988; setupWheel();
            if (Math.abs(startAngle - lastTickAngle) > (Math.PI/3)) { vibrate(5); lastTickAngle = startAngle; }
            if(vel > 0.001) requestAnimationFrame(decay);
            else { 
                vibrate([30, 50, 30]);
                const idx = Math.floor(((360 - (startAngle*180/Math.PI)%360 + 270)%360)/60);
                document.getElementById('wheelText').innerText = "Yayy!! You got " + cuisine[idx % 6] + " üíñ";
                showPopup('wheelPopup'); 
            }
        }
        decay();
    }
    function closeWheelPopup() { vibrate(20); hidePopup('wheelPopup'); nextSlide('scratch'); }

    function initScratch() {
        const cvs = document.getElementById('scratch-canvas'); const ctx = cvs.getContext('2d');
        ctx.fillStyle = '#C0C0C0'; ctx.fillRect(0,0,260,260);
        ctx.fillStyle = '#666'; ctx.font = "bold 20px Poppins"; ctx.fillText("Scratch to Reveal!", 40, 135);
        let cleared = 0;
        let triggered = false;
        function scrap(e) {
            const r = cvs.getBoundingClientRect();
            const x = (e.pageX || e.touches[0].pageX) - r.left; const y = (e.pageY || e.touches[0].pageY) - r.top;
            ctx.globalCompositeOperation = 'destination-out'; ctx.beginPath(); ctx.arc(x, y, 25, 0, Math.PI*2); ctx.fill();
            cleared++; if(cleared % 10 === 0) vibrate(5);
            if(cleared > 150 && !triggered) { triggered = true; vibrate([50, 50, 50]); showPopup('scratchPopup'); }
        }
        cvs.addEventListener('touchmove', e => { e.preventDefault(); scrap(e); }, {passive: false});
        cvs.addEventListener('mousemove', e => e.buttons === 1 && scrap(e));
    }

    function initMatch() {
        const grid = document.getElementById('emoji-grid'); grid.innerHTML = '';
        const items = ['üç´','üç´','üç©','üç©','üçµ','üçµ'].sort(() => Math.random() - 0.5);
        let active = []; let pairs = 0;
        items.forEach(emoji => {
            const card = document.createElement('div'); card.className = 'emoji-card';
            card.innerHTML = `<div class="back"></div>${emoji}`;
            card.onclick = () => {
                vibrate(10);
                if(active.length < 2 && !card.classList.contains('flipped')) {
                    card.classList.add('flipped'); active.push(card);
                    if(active.length === 2) {
                        if(active[0].innerText === active[1].innerText) { vibrate([20, 20, 20]); pairs++; active = []; if(pairs === 3) setTimeout(() => showPopup('matchPopup'), 600); }
                        else { vibrate(40); setTimeout(() => { active.forEach(c => c.classList.remove('flipped')); active = []; }, 800); }
                    }
                }
            };
            grid.appendChild(card);
        });
    }
    function closeMatchPopup() { vibrate(20); hidePopup('matchPopup'); document.getElementById('matchBtnNext').style.display = 'inline-block'; }

    function flipCoin() {
        vibrate(30);
        const coin = document.getElementById('coin');
        coin.style.transform = `translateY(-100px) rotateY(${3600 + Math.random()*360}deg)`;
        setTimeout(() => { vibrate([50, 30]); coin.style.transform += ` translateY(100px)`; showPopup('coinPopup'); }, 5100);
    }
    function closeCoinPopup() { vibrate(20); hidePopup('coinPopup'); document.getElementById('coinBtnNext').style.display = 'inline-block'; }

    function startEternalCountdown() {
        vibrate(50);
        nextSlide('suspense');
        const sc = document.getElementById('stars-container'); sc.innerHTML = '';
        for(let i=0; i<80; i++) {
            const s = document.createElement('div'); s.className = 'star';
            s.style.width = s.style.height = Math.random()*3+'px';
            s.style.left = Math.random()*100+'%'; s.style.top = Math.random()*100+'%';
            s.style.setProperty('--duration', (Math.random()*3+2)+'s'); sc.appendChild(s);
        }
        let count = 5;
        const countEl = document.getElementById('countdown-num');
        const heart = document.getElementById('heart-node');
        const timer = setInterval(() => {
            count--; if(count >= 0) { vibrate(30); countEl.textContent = count; heart.style.animation = 'none'; void heart.offsetWidth; heart.style.animation = 'pulse-heart 0.6s ease-in-out'; }
            if(count === 0) {
                clearInterval(timer);
                setTimeout(() => { vibrate([50, 100, 50]); countEl.innerHTML = "‚àû"; heart.style.backgroundColor = "#fff"; setTimeout(() => nextSlide(8), 1500); }, 1000);
            }
        }, 1000);
    }

    function showNoPopup() { vibrate([50, 50, 50]); showPopup('noPopup'); }
    function handleYes() { vibrate([100, 50, 100]); confetti({ particleCount: 200, spread: 80, origin: { y: 0.6 } }); showPopup('yesPopup'); }
    
    function finalize() { 
        vibrate(200); hidePopup('yesPopup'); nextSlide(9); 
        const rainContainer = document.getElementById('hearts-rain-container');
        confetti({ particleCount: 150, spread: 100, origin: { y: 0.5 } });
        setInterval(() => {
            const h = document.createElement('div'); h.className = 'heart-float'; h.innerHTML = 'üíñ';
            h.style.left = Math.random() * 100 + 'vw'; h.style.setProperty('--dur', (Math.random()*3 + 2) + 's');
            rainContainer.appendChild(h); setTimeout(() => h.remove(), 4000);
        }, 250); 
    }

    function showPopup(id) { document.getElementById(id).style.display = 'flex'; setTimeout(() => document.getElementById(id).classList.add('show'), 10); }
    function hidePopup(id) { document.getElementById(id).classList.remove('show'); setTimeout(() => document.getElementById(id).style.display = 'none', 600); }
</script>
</body>
</html>
